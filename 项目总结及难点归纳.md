# @ 项目常见问题

### 1. 用React还是用Vue

**react：**

* react可以使用redux，当时vue还没有vuex

* jsx

* react单向数据流，很容易监控数据流向，方便调试

* react是社区导向式，问题靠自己解决

**vue**

* 数据驱动式，开发者只需要关心数据
* 小巧轻便（react 100k vue 80k）
* 文档好，上手简单
* 动画过渡效果很好
* 不必关心shouldComponentUpdate
* vue是渐进式框架，有vue全家桶

### 2. 既然项目主要用的是原生js，而且不是SPA，那你用vue做了什么？

* 实现了自动的权限认证、模块渲染
* 用v-for减少了大量的代码量
* 需求一周一变，vue改得很快

### 3. 简历关键词

#### （1）项目1组件如何优化

#### （2）项目1业务回归，组件是如何替换的

#### （3）项目1如何优化的节流逻辑

#### （4）项目2路由方案

#### （5）项目2怎么从资源加载、编码优化等方面提高页面响应速度的？

#### （6）项目3怎么提高页面渲染速度的



# @ 项目介绍及难点归纳

## 项目A：基于React+antd+webpack的CCPC程序设计大赛报名系统 前端

### a. 项目难点

1. 安全性
2. 性能

### b. 优化方案

1. 安全问题基本策略：

   **脚本注入-XSS攻击防御策略：**

   (1) 给cookie携带"httpOnly"头部

   (2) 字符转义

   **跨站请求伪造-CSRF防御：**

   (1) 黑客利用img-src发起get请求跨域——关键业务不使用get

   (2) 黑客利用隐藏form表单骗取点击事件同样可以进行post跨域请求——

   ​	设置验证码，或种上token

   更深入：考虑放进cookie里，使用httpOnly保护token（不过这样自己也取不到）

2. 性能优化基本策略：

   工具：chrome network/performanced

### c. 进一步？

服务端渲染

### d. 踩过的坑

1. 从gulp到webpack

   webpack工作：按需加载、打包

   * 从编程式变成配置式

   * 模块化

   * 优化整合http请求（gulp只是对静态资源做流式处理）

   * loader/plugin

     cdn/babel/css-poster

   webpack更胜任单页面应用的打包构建，gulp更胜任多页应用的打包
   
2. React跨组件传参方案

## 项目B：基于vue的admin系统 前端

### a. 项目难点

1. 页面优化

   （1）资源加载：调整script、style文件顺序，合并请求、拆分请求

   （2）在文件夹渲染部分，把响应式数据换成了缓存数据

2. 代码bug清理

### b. 性能优化方案

1. 减少请求

   (1) 给文件夹排序的时候，本来是重新请求排序后的文件，改成本地排序

2. 拆分文件/合并文件

3. v-for展开渲染的时候，不能和v-if同用

4. 请求删除文件夹节点，不用重新请求资源

5. 请求

#### 踩过的坑

1. 【部分解决】取input值时，val()与value混用：val不仅可以带参，而且不会返回undefined

   【算是解决了，只解决了后半部分】类型匹配不严格：usernameCheck(ele) 所接受的ele类型不一致（一个是jquery对象 一个是event对象） 且ele的取值方法不统一（需要判断是来自于jquery还是原始event）
   var username = (ele instanceof jQuery) ? ele.val() : (ele.value || '')

2. 2栏布局 可拖曳的边框

## 项目C：美团优选

### a. 项目难点

1. 组件渲染优化

























## 项目优化

1. 将过大的公用js文件拆分为可复用及不可复用部分分别进行引入，去除了部分多余工具库（如fileinput、chart等），去除外链，大大优化了多个页面的加载速度（如果能使用动态加载就更好了）
2. 调整了优先需要展示的数据的加载顺序，减少了不必要的首屏数据加载
3. 尝试加入router去除白屏加载（后来被pass）

## 解决的问题

#### 兼容性

1. 移动端和pc端样式兼容问题：使用媒体查询

#### 不规范

1. 公共方法接收的参数类型不一致（原生js/jQuery）
2. vue和原生js混用（onclick/onClick、function写在vue对象里/对象外）

#### 需求

1. 可滑动

#### 最困难的问题

实现组件keep-alive